#!/usr/bin/env bash
# Install by pointing git to this directory: `git config core.hooksPath .githooks`
set -euo pipefail

run() {
  echo "==> $*"
  "$@"
}

run cargo fmt --all -- --check
run cargo clippy --all-targets --all-features -- -D warnings
run cargo test --all
cd facades/typescript/ && npm run test -- --run && cd ../../
sh scripts/build-all.sh